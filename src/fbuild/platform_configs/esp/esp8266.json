{
  "name": "ESP8266",
  "description": "Configuration for ESP8266 MCU (NodeMCU, WeMos D1 Mini, etc.)",
  "mcu": "esp8266",
  "architecture": "xtensa-lx106",

  "compiler_flags": {
    "common": [
      "-mlongcalls",
      "-mtext-section-literals",
      "-ffunction-sections",
      "-fdata-sections",
      "-falign-functions=4",
      "-Wl,-EL",
      "-fno-inline-functions",
      "-nostdlib",
      "-Wno-error=unused-function",
      "-Wno-error=unused-variable",
      "-Wno-error=unused-but-set-variable",
      "-Wno-error=deprecated-declarations",
      "-Wno-unused-parameter",
      "-Wno-sign-compare",
      "-fno-exceptions",
      "-fno-strict-aliasing",
      "-MMD"
    ],
    "c": [
      "-std=gnu17",
      "-Wpointer-arith",
      "-Wno-implicit-function-declaration",
      "-Wl,-EL",
      "-fno-inline-functions",
      "-nostdlib"
    ],
    "cxx": [
      "-std=gnu++17",
      "-fno-rtti",
      "-fno-exceptions"
    ]
  },

  "linker_flags": [
    "-mlongcalls",
    "-mtext-section-literals",
    "-Wl,-EL",
    "-Wl,--gc-sections",
    "-Wl,-wrap,system_restart_local",
    "-Wl,-wrap,spi_flash_read",
    "-nostdlib",
    "-u", "_printf_float",
    "-u", "_scanf_float",
    "-u", "app_entry",
    "-u", "_xt_isr_attach",
    "-u", "_xtos_set_exception_handler",
    "-u", "_xtos_set_interrupt_handler",
    "-u", "_xtos_c_handler_table"
  ],

  "linker_scripts": [
    "eagle.flash.4m1m.ld"
  ],

  "linker_libs": [
    "-lgcc",
    "-lhal",
    "-lphy",
    "-lpp",
    "-lnet80211",
    "-llwip2-536-feat",
    "-lwpa",
    "-lcrypto",
    "-lmain",
    "-lwps",
    "-lbearssl",
    "-laxtls",
    "-lespnow",
    "-lsmartconfig",
    "-lairkiss",
    "-lwpa2",
    "-lstdc++",
    "-lm",
    "-lc"
  ],

  "profiles": {
    "release": {
      "compile_flags": ["-Os"],
      "link_flags": []
    },
    "quick": {
      "compile_flags": ["-O1"],
      "link_flags": []
    }
  },

  "esptool": {
    "elf_sha256_offset": "0x0",
    "flash_offsets": {
      "firmware": "0x0"
    }
  },

  "defines": [
    "ESP8266",
    "ARDUINO_ARCH_ESP8266",
    ["F_CPU", "80000000L"],
    "LWIP_OPEN_SRC",
    "TCP_MSS=536",
    "LWIP_FEATURES=1",
    "LWIP_IPV6=0",
    "ARDUINO=10805",
    "__ets__",
    "ICACHE_FLASH",
    "_GNU_SOURCE",
    "NONOSDK305=1",
    "VTABLES_IN_FLASH",
    ["MMU_IRAM_SIZE", "0xC000"],
    ["MMU_ICACHE_SIZE", "0x8000"]
  ]
}
